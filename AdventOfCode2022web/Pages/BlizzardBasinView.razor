@page "/BlizzardBasinView/{PuzzleNumber:int}"
@inject PuzzleHelper puzzleHelper;
@inject HttpClient Http


<div class="container">
    <div class="row">
        <div class="col-md-6">
            <BlizzardBasinVisualization Solver="@((BlizzardBasin)_solver)" AnimationDuration="@_animationDuration" />
        </div>
        <div class="col-md-6">
            <PuzzleInput PuzzleSolver="_solver" PuzzleNumber="24" Changed="@UpdateView" Input="@_input" />
        </div>
    </div>
</div>

@code {
    [Parameter]
    public int PuzzleNumber { get; set; }
    private string? _input;
    private BlizzardBasin _solver = new BlizzardBasin();
    private int _animationDuration = 500;
    public void UpdateView(int animationDuration)
    {
        _animationDuration = animationDuration;
        StateHasChanged();
    }

    protected override async Task OnInitializedAsync()
    {
        _input = (await Http.GetStringAsync($"sample-data/BlizzardBasin.txt")).Replace("\r", "");
    }
}
