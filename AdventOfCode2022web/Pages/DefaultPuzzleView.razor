@page "/DefaultPuzzleView/{PuzzleNumber:int}"
@inject PuzzleHelper puzzleHelper;
@inject HttpClient Http

<PuzzleInput PuzzleSolver="_solver" PuzzleNumber="@PuzzleNumber" Changed="@UpdateView" Input="@_input" />

@code {
    [Parameter]
    public int PuzzleNumber { get; set; }
    private string? _input { get; set; }
    private IPuzzleSolverV3? _solver;
    public void UpdateView(int animationDuration)
    {
        StateHasChanged();
    }

    protected override async Task OnInitializedAsync()
    {
        var puzzle = puzzleHelper.Puzzles[PuzzleNumber];
        _solver = (IPuzzleSolverV3)(Activator.CreateInstance(puzzle.Type))!;
        _input = (await Http.GetStringAsync($"sample-data/{puzzle.Type.Name}.txt")).Replace("\r", "");
    }
}
